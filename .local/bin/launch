#!/usr/bin/sh
# launcher wrapper script

cmd() {
    rofi -show drun "$@"
    #j4-dmenu-desktop --dmenu="bemenu -p 'Launch'" --term='alacrity' --no-generic "$@"
}

if herbstclient compare tags.focus.curframe_wcount = 0; then
    cmd -run-shell-command "{terminal} -t '{cmd}' -e {cmd}"
else
    #prog=$(cmd --no-exec 2>/dev/null | tr -d '"')
    #[ -n "$prog" ] && herbstclient and , split auto , cycle_frame , spawn $prog
    pre="herbstclient and , split auto , cycle_frame , spawn"
    cmd -run-command "$pre {cmd}" -run-shell-command "$pre {terminal} -t '{cmd}' -e {cmd}"
fi
